# autogenerated file, do not modify
from .. import mfpackage
from ..data.mfdatautil import ListTemplateGenerator


class Modflow{{ component.title() }}{{ subcomponent }}(mfpackage.MFPackage):
    """
    Modflow{{ component.title() }}{{ subcomponent }} defines a {{ subcomponent }} package within a {{ component }}6 model.

    Parameters
    ----------
    model : MFModel
        Model that this package is a part of. Package is automatically
        added to model when it is initialized.
    loading_package : bool
        Do not set this parameter. It is intended for debugging and internal
        processing purposes only.
{% for param in params %}
{% if param.type in ["recarray"] %}
    {{ param.name }} : [{% for col in param.cols %}{{ col.name }}{% endfor %}]
{% for col in param.cols %}
        * {{ col.name }} ({{ col.pytype }}) {{ indent(col.description, 10) }}
{% endfor %}
{% else %}
    {{ param.name }} : {{ param.pytype }}
        * {{ param.name }} ({{ param.pytype }}) {{ indent(param.description, 10) }}
{% endif %}
{% endfor %}
    filename : String
        File name for this package.
    pname : String
        Package name for this package.
    parent_file : MFPackage
        Parent package file that references this package. Only needed for
        utility packages (mfutl*). For example, mfutllaktab package must have
        a mfgwflak package parent_file.

    """

{% for param in params if param.type in ["record", "recarray", "subpkg"] %}
    {{ param.name }} = ListTemplateGenerator(("{{ component }}6", "{{ subcomponent }}", "{{ param.block }}", "{{ param.name }}"))
{% endif %}
    package_abbr = "{{ component }}{{ subcomponent }}"
    _package_type = "{{ subcomponent }}"
    dfn_file_name = "{{ component }}-{{ subcomponent }}.dfn"

    dfn = {{ dfn }}

    def __init__(
        self,
        model,
        loading_package=False,
{% for param in params %}
        {{ param.name }}=None,
{% endfor %}
        filename=None,
        pname=None,
        **kwargs,
    ):
        super().__init__(
            model, "{{ subcomponent }}", filename, pname, loading_package, **kwargs
        )

        # set up variables
{% for param in params if param.type != "subpkg" %}
        self.{{ param.name }} = self.build_mfdata("{{ param.name }}", {{ param.name }})
{% endfor %}

{# TODO: why do these have leading underscore? #}
{% for subpkg in params if param.type == "subpkg" %}
        self._{{ subpkg.abbrev }}_filerecord = self.build_mfdata("{{ subpkg.abbrev}}_filerecord", None)
        self._{{ subpkg.abbrev }}_package = self.build_child_package(
            "{{ subpkg.abbrev }}", {{ subpkg.name }}, "{{ subpkg.blockname }}", self._{{ subpkg.abbreb }}_filerecord
        )
{% endfor %}
        self._init_complete = True
